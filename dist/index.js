"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,i){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(t),n=1;n<arguments.length;n++){var h=arguments[n];if(null!=h)for(var e in h)Object.prototype.hasOwnProperty.call(h,e)&&(s[e]=h[e])}return s},t:!0,i:!0}),"function"!=typeof Array.from&&(Array.from=function(t){return[].slice.call(t)});var t=function(t){var i=document.implementation.createHTMLDocument("");return i.body.innerHTML=t,Array.from(i.body.children)[0]},i=function(t,i){var s=document.createEvent("HTMLEvents");s.initEvent(i,!0,!1),t.dispatchEvent(s)},s=function(){var s=function(t,i){this.s=t,this.h=1,this.o=1,this.offset={x:0,y:0},this.u={x:0,y:0},this.options=Object.assign({},this.l,i),this.m(),this.v(),this.update(),this.p(this.s)&&(this.g(),this.M()),this.enable()},n=function(t,i){return t+i};s.prototype={l:{O:2,A:1.3,animationDuration:300,D:4,Z:.5,_:!0,k:!1,C:!1,N:!0,T:!1,j:"pz_zoomstart",F:"pz_zoomupdate",I:"pz_zoomend",S:"pz_dragstart",U:"pz_dragupdate",P:"pz_dragend",W:"pz_doubletap",Y:"pz_mousewheel",q:0,G:0,L:null,R:null,H:null,V:null,X:null,B:null,J:null,K:null},$:function(t){i(this.s,this.options.S),"function"==typeof this.options.V&&this.options.V(this,t),this.tt(),this.it=!1,this.st=!0,this.nt(t)},nt:function(t){if("touchend"!==t.type){var i="touchmove"===t.type?this.ht(t)[0]:this.et(t);this.ot(i,this.it),this.offset=this.ut(this.offset),this.it=i}},rt:function(){i(this.s,this.options.P),"function"==typeof this.options.X&&this.options.X(this,event),this.end()},ct:function(t){i(this.s,this.options.j),"function"==typeof this.options.L&&this.options.L(this,t),this.tt(),this.o=1,this.ft=0,this.dt=!1,this.st=!0},lt:function(t,i){var s=this.vt(this.ht(t)),n=i/this.o;this.o=i,this.ft+=1,this.ft>3&&(this.scale(n,s),this.ot(s,this.dt)),this.dt=s},pt:function(){i(this.s,this.options.I),"function"==typeof this.options.R&&this.options.R(this,event),this.end()},gt:function(t){var s=this.ht(t)[0],n=this.h>1?1:this.options.O,h=this.h,e=function(t){this.yt(h+t*(n-h),s)}.bind(this);this.st||(this.zt=!0,h>n&&(s=this.xt()),this.animate(this.options.animationDuration,e,this.Mt),i(this.s,this.options.W),"function"==typeof this.options.J&&this.options.J(this,t))},bt:function(){this.u={x:-Math.abs(this.s.offsetWidth*this.wt()-this.Et.offsetWidth)/2,y:-Math.abs(this.s.offsetHeight*this.wt()-this.Et.offsetHeight)/2}},Ot:function(){this.offset.x=this.u.x,this.offset.y=this.u.y},p:function(t){return"IMG"===t.nodeName?t.complete&&0!==t.naturalHeight:Array.from(t.querySelectorAll("img")).every(this.p)},M:function(){this.options.C&&this.At||(this.At=!0,this.bt(),this.Ot())},ut:function(t){var i=this.s.offsetWidth*this.wt()*this.h,s=this.s.offsetHeight*this.wt()*this.h,n=i-this.Dt()+this.options.G,h=s-this.Zt()+this.options.q,e=Math.max(n,0),o=Math.max(h,0),a=Math.min(n,0)-this.options.G,u=Math.min(h,0)-this.options.q;return{x:Math.min(Math.max(t.x,a),e),y:Math.min(Math.max(t.y,u),o)}},yt:function(t,i){this.scale(t/this.h,i)},scale:function(t,s){const n={x:((t=this._t(t))-1)*(s.x+this.offset.x),y:(t-1)*(s.y+this.offset.y)};this.kt(n),i(this.s,this.options.F),"function"==typeof this.options.H&&this.options.H(this,event)},_t:function(t){var i=this.h;return this.h*=t,this.h=Math.min(this.options.D,Math.max(this.h,this.options.Z)),this.h/i},Ct:function(){return this.options._||!((t=this.h)>(i=1)-.01&&t<i+.01);var t,i},ot:function(t,s){s&&(this.options.k?Math.abs(t.x-s.x)>Math.abs(t.y-s.y)?this.kt({x:-(t.x-s.x),y:0}):this.kt({y:-(t.y-s.y),x:0}):this.kt({y:-(t.y-s.y),x:-(t.x-s.x)}),i(this.s,this.options.U),"function"==typeof this.options.B&&this.options.B(this,event))},vt:function(t){return this.Nt(t)},Nt:function(t){return{x:t.map(function(t){return t.x}).reduce(n)/t.length,y:t.map(function(t){return t.y}).reduce(n)/t.length}},kt:function(t){this.offset={x:this.offset.x+t.x,y:this.offset.y+t.y}},Tt:function(){this.h<this.options.A?this.jt():this.Ft(this.offset)&&this.It()},Ft:function(t){var i=this.ut(t);return i.x!==t.x||i.y!==t.y},It:function(){var t=this.ut(this.offset),i=this.offset.x,s=this.offset.y,n=function(n){this.offset.x=i+n*(t.x-i),this.offset.y=s+n*(t.y-s),this.update()}.bind(this);this.animate(this.options.animationDuration,n,this.Mt)},jt:function(){if(1!==this.h){var t=this.h,i=this.xt(),s=function(s){this.yt(t+s*(1-t),i)}.bind(this);this.animate(this.options.animationDuration,s,this.Mt)}},g:function(){this.St(),this.Ut(this.Et.parentElement.offsetHeight)},wt:function(){var t=this.Et.offsetWidth/this.s.offsetWidth,i=this.Et.offsetHeight/this.s.offsetHeight;return Math.min(t,i)},Pt:function(){return this.s.offsetWidth/this.s.offsetHeight},xt:function(){var t=this.offset.x-this.u.x,i=-1*this.offset.x-t/(1/this.h-1),s=this.offset.y-this.u.y;return{x:i,y:-1*this.offset.y-s/(1/this.h-1)}},ht:function(t){var i=this.Et.getBoundingClientRect(),s=document.documentElement.scrollTop||document.body.scrollTop,n=document.documentElement.scrollLeft||document.body.scrollLeft,h=i.top+s,e=i.left+n;return t.touches?Array.prototype.slice.call(t.touches).map(function(t){return{x:t.pageX-e,y:t.pageY-h}}):[{x:t.pageX-e,y:t.pageY-h}]},et:function(t){var i=this.Et.getBoundingClientRect(),s=document.documentElement.scrollTop||document.body.scrollTop,n=document.documentElement.scrollLeft||document.body.scrollLeft,h=i.top+s,e=i.left+n;return{x:t.pageX-e,y:t.pageY-h}},animate:function(t,i,s,n){var h=(new Date).getTime(),e=function(){if(this.Wt){var o=(new Date).getTime()-h,a=o/t;o>=t?(i(1),n&&n(),this.update(),this.tt(),this.update()):(s&&(a=s(a)),i(a),this.update(),requestAnimationFrame(e))}}.bind(this);this.Wt=!0,requestAnimationFrame(e)},tt:function(){this.Wt=!1},Mt:function(t){return-Math.cos(t*Math.PI)/2+.5},Dt:function(){return this.Et.offsetWidth},Zt:function(){return this.Et.offsetHeight},Ut:function(t){return this.Et.style.height=t+"px"},St:function(){this.Et.style.height=null},m:function(){this.Et=document.querySelector("div.pinch-zoom-container"),this.Et||(this.Et=t('<div class="pinch-zoom-container"></div>'),this.s.parentNode.insertBefore(this.Et,this.s),this.Et.appendChild(this.s)),this.Et.style.overflow="auto",this.Et.style.position="relative",this.s.style.webkitTransformOrigin="0% 0%",this.s.style.Yt="0% 0%",this.s.style.msTransformOrigin="0% 0%",this.s.style.qt="0% 0%",this.s.style.transformOrigin="0% 0%",this.s.style.position="absolute",this.s.style.backfaceVisibility="hidden",this.s.style.willChange="transform"},end:function(){this.st=!1,this.Tt(),this.update()},v:function(){var t=this;h(this.Et,this,this.s),this.Gt=this.update.bind(this),window.addEventListener("resize",this.Gt),Array.from(this.s.querySelectorAll("img")).forEach(function(i){i.addEventListener("load",t.update.bind(t))}),"IMG"===this.s.nodeName&&this.s.addEventListener("load",this.update.bind(this))},update:function(t){t&&"resize"===t.type&&(this.g(),this.M()),t&&"load"===t.type&&(this.g(),this.M()),this.Lt||(this.Lt=!0,window.setTimeout(function(){this.Lt=!1;var t=this.wt()*this.h,i=-this.offset.x/t,s=-this.offset.y/t,n="scale3d("+t+", "+t+",1) translate3d("+i+"px,"+s+"px,0px)",h="scale("+t+", "+t+") translate("+i+"px,"+s+"px)",e=function(){this.clone&&(this.clone.parentNode.removeChild(this.clone),delete this.clone)}.bind(this);!this.options.N||this.st||this.Wt?(this.Rt=!0,e(),this.s.style.webkitTransform=n,this.s.style.Ht=h,this.s.style.msTransform=h,this.s.style.Vt=h,this.s.style.transform=n):(this.Rt&&(this.clone=this.s.cloneNode(!0),this.clone.style.pointerEvents="none",this.Et.appendChild(this.clone),window.setTimeout(e,200)),this.s.style.webkitTransform=h,this.s.style.Ht=h,this.s.style.msTransform=h,this.s.style.Vt=h,this.s.style.transform=h,this.Rt=!1)}.bind(this),0))},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},Xt:function(){window.removeEventListener("resize",this.Gt),this.Et&&(this.Et.remove(),this.Et=null)},reset:function(){this.h=1,this.o=1,this.offset={x:0,y:0},this.u={x:0,y:0},this.m(),this.v(),this.update(),this.p(this.s)&&(this.g(),this.M()),this.enable()}};var h=function(t,i,s){var n=null,h=0,e=null,o=null,a=!1,u=function(t,s){if(n!==t){if(n&&!t)switch(n){case"zoom":i.pt(s);break;case"drag":i.rt(s)}switch(t){case"zoom":i.ct(s);break;case"drag":i.$(s)}}n=t},r=function(t){2===h?u("zoom"):1===h&&i.Ct()?u("drag",t):u(null,t)},c=function(t){return Array.from(t).map(function(t){return{x:t.pageX,y:t.pageY}})},f=function(t,i){var s,n;return s=t.x-i.x,n=t.y-i.y,Math.sqrt(s*s+n*n)},d=function(t){t.stopPropagation(),t.preventDefault()},l=function(t){switch(d(t),i.gt(t),n){case"zoom":i.pt(t);break;case"drag":i.rt(t)}},m=!0;document.querySelector("div.preview-media__container img.media-gallery-image").addEventListener("click",function(t){!i.enabled||a||"mouse"!==t.pointerType||l(t)},{Bt:!1}),t.addEventListener("touchstart",function(t){i.enabled&&(m=!0,h=t.touches.length,function(t){var s=(new Date).getTime();if(h>1&&(e=null),s-e<300)switch(d(t),i.gt(t),n){case"zoom":i.pt(t);break;case"drag":i.rt(t)}else i.zt=!1;1===h&&(e=s)}(t))},{Bt:!1}),s.addEventListener("click",function(t){i.enabled&&!a&&"mouse"===t.pointerType&&l(t)},{Bt:!1}),t.addEventListener("touchmove",function(t){if(i.enabled&&!i.zt){if(m)r(t),n&&d(t),o=c(t.touches);else{switch(n){case"zoom":2==o.length&&2==t.touches.length&&i.lt(t,function(t,i){var s=f(t[0],t[1]);return f(i[0],i[1])/s}(o,c(t.touches)));break;case"drag":i.nt(t)}n&&(d(t),i.update())}m=!1}},{Bt:!1}),t.addEventListener("touchend",function(t){i.enabled&&(h=t.touches.length,r(t))}),i.options.T&&(t.addEventListener("mousedown",function(t){i.enabled&&(m=!0,h=1,a=!1)},{Bt:!0}),t.addEventListener("mousemove",function(t){i.enabled&&(m?(r(t),n&&d(t)):("drag"===n&&(a=!0,i.nt(t)),n&&(d(t),i.update())),m=!1)},{Bt:!1}),t.addEventListener("mouseup",function(t){i.enabled&&(h=0,r(t))},{Bt:!0}))};return s},n=s();export default n;